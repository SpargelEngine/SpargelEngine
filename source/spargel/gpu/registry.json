{
  "types": [
    {
      "kind": "opaque",
      "name": "instance"
    },
    {
      "kind": "opaque",
      "name": "device"
    },
    {
      "kind": "enum",
      "name": "result",
      "values": [
        "success",
        "no_backend",
        "allocation_failed"
      ]
    },
    {
      "kind": "enum",
      "name": "backend",
      "values": [
        "directx",
        "metal",
        "vulkan"
      ]
    },
    {
      "kind": "struct",
      "name": "instance_descriptor",
      "fields": [
        {
          "name": "backend",
          "type": "backend"
        }
      ]
    },
    {
      "kind": "external",
      "name": "void"
    }
  ],
  "functions": [
    {
      "name": "create_instance",
      "return": "result",
      "arguments": [
        {
          "name": "instance",
          "type": "ref:instance"
        },
        {
          "name": "descriptor",
          "type": "cref:instance_descriptor"
        }
      ]
    },
    {
      "name": "destroy_instance",
      "return": "void",
      "arguments": [
        {
          "name": "instance",
          "type": "instance"
        }
      ]
    },
    {
      "name": "create_default_device",
      "return": "result",
      "arguments": [
        {
          "name": "instance",
          "type": "instance"
        },
        {
          "name": "device",
          "type": "ref:device"
        }
      ]
    },
    {
      "name": "destroy_device",
      "return": "void",
      "arguments": [
        {
          "name": "device",
          "type": "device"
        }
      ]
    }
  ]
}
